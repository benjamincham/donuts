# Backend API Server Configuration

# =============================================================================
# Server Settings
# =============================================================================
PORT=3000
NODE_ENV=development

# =============================================================================
# CORS Settings
# =============================================================================
# Allowed origins (comma-separated, * for all)
CORS_ALLOWED_ORIGINS=*
# 本番環境の場合の例:
# CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com,https://admin.your-domain.com

# =============================================================================
# Cognito Settings (JWT Authentication - aws-jwt-verify)
# =============================================================================

# Cognito User Pool ID (required - server will not start without these)
COGNITO_USER_POOL_ID=ap-southeast-1_xxxxxxxxx
COGNITO_REGION=ap-southeast-1

# Cognito App Client ID (optional: restricts accepted tokens to specific client)
# COGNITO_CLIENT_ID=your-app-client-id


# =============================================================================
# AgentCore Memory Settings
# =============================================================================
AGENTCORE_MEMORY_ID=your-memory-id
AGENTCORE_GATEWAY_ENDPOINT=https://your-gateway-id.gateway.bedrock-agentcore.us-east-1.amazonaws.com/mcp

# =============================================================================
# User Storage Settings
# =============================================================================
# S3 bucket name obtained after CDK deployment
USER_STORAGE_BUCKET_NAME=your-bucket-name-user-storage-account-region

# =============================================================================
# AWS 設定
# =============================================================================
# AWS Region (automatically set in Lambda, but can be specified for local development)
AWS_REGION=ap-southeast-1

# =============================================================================
# Agents Table Settings
# =============================================================================
# DynamoDB table name obtained after CDK deployment
# Example: AgentCoreAppDev-AgentsTableName
AGENTS_TABLE_NAME=your-agents-table-name

# =============================================================================
# Sessions Table Settings
# =============================================================================
# DynamoDB table name obtained after CDK deployment
SESSIONS_TABLE_NAME=your-sessions-table-name

# =============================================================================
# Event-Driven Triggers Settings (when using trigger features)
# =============================================================================
# Triggers DynamoDB table name
TRIGGERS_TABLE_NAME=your-triggers-table-name

# Trigger Lambda ARN（EventBridge Schedulerが呼び出すLambda）
TRIGGER_LAMBDA_ARN=arn:aws:lambda:ap-southeast-1:123456789012:function:your-trigger-lambda

# IAM Role ARN for EventBridge Scheduler
SCHEDULER_ROLE_ARN=arn:aws:iam::123456789012:role/your-scheduler-role

# EventBridge Scheduler group name (default is 'default')
SCHEDULE_GROUP_NAME=default

# =============================================================================
# Usage Examples
# =============================================================================
# 1. Local Development:
#    - Set COGNITO_USER_POOL_ID and COGNITO_REGION (required)
#    - Always perform JWT verification against Cognito User Pool with aws-jwt-verify
#
# 2. Production Environment:
#    - Configure all settings appropriately
#    - Set NODE_ENV=production
